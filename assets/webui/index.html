<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>A Basic HTML5 Template</title>
  <meta name="description" content="A simple HTML5 Template for new projects.">
  <meta name="author" content="SitePoint">

  <meta property="og:title" content="A Basic HTML5 Template">
  <meta property="og:type" content="website">
  <meta property="og:url" content="">
  <meta property="og:description" content="A simple HTML5 Template for new projects.">
  <meta property="og:image" content="favicon.png">

  <link rel="icon" href="favicon.ico">
  <link rel="apple-touch-icon" href="apple-touch-icon.png">

  <!--<link rel="stylesheet" href="css/styles.css?v=1.0">-->

  <script>
    window.addEventListener("keydown", function(event) {
      if (event.keyCode == 116) {
          // block F5 (Refresh)
          event.preventDefault();
          event.stopPropagation();
          return false;

      } else if (event.keyCode == 122) {
          // block F11 (Fullscreen)
          event.preventDefault();
          event.stopPropagation();
          return false;

      } else if (event.keyCode == 123) {
          // block F12 (DevTools)
          event.preventDefault();
          event.stopPropagation();
          return false;

      } else if (event.ctrlKey && event.shiftKey && event.keyCode == 73) {
          // block Strg+Shift+I (DevTools)
          event.preventDefault();
          event.stopPropagation();
          return false;

      } else if (event.ctrlKey && event.shiftKey && event.keyCode == 74) {
          // block Strg+Shift+J (Console)
          event.preventDefault();
          event.stopPropagation();
          return false;
      }
    });

    window.addEventListener("contextmenu", e => e.preventDefault());
    window.addEventListener('selectstart', function(e){ e.preventDefault(); });
  </script>

<script type = "text/javascript">
  function ConnectToBackendWebSocket() {
     if ("WebSocket" in window) {
        //alert("WebSocket is supported by your Browser!");
        // Let us open a web socket
        var ws = new WebSocket("ws://localhost:8089/");
        window["App"] = {}
        window["App"].websocket = ws

        ws.onopen = function() {
           // Web Socket is connected, send data using send()
           //ws.send("Message to send");
           //alert("Message is sent...");
           console.log("websocket connected")
        };

        ws.onmessage = function (evt) {
          console.log("message received")
          const element = document.getElementById("helloworldtxt")
          if (!element) {
            return
          }
          var received_msg = evt.data;
          element.innerText = (new Date(received_msg)).toLocaleTimeString()
          //alert("Message is received..." + received_msg);
        };

        ws.onclose = function() {
           // websocket is closed.
           alert("Connection is closed...");
           console.log("websocket disconnected")
        };
     } else {
        // The browser doesn't support WebSocket
        alert("WebSocket is NOT supported by your Browser!");
     }
  }
  ConnectToBackendWebSocket()
</script>

</head>

<body>
  <!-- your content here... -->
  <h1 id="helloworldtxt">Hello World</h1>
  <input type="text">
  <textarea>Hmmmmm...</textarea>
</body>
</html>
